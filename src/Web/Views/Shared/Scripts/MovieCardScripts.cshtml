<script type="text/javascript">
    function handleWatchedClick(source, id) {
        if (source.checked) {
            markAsWatched(source, id,
                function(source, status) {
                    if (status === 200)
                        showSuccessMessagePopup('Movie has been added to watched');
                    else showFailMessagePopup('Something went wrong');
                });
        } else {
            unmarkAsWatched(source,
                id,
                function(source, status) {
                    if (status === 200)
                        showSuccessMessagePopup('Movie has been removed from watched');
                    else showFailMessagePopup('Something went wrong');
                });
        }
    }

    function handleVoteClick(source, value, id) {
        rateMovie(source, id, value, function(source, status) {
            if (status === 200) {
                showSuccessMessagePopup('Your vote has been saved');
            }
            else {
                showFailMessagePopup('Something went wrong');
            }
            
        });
    }
</script>
